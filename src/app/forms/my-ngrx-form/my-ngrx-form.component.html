<h4>my-ngrx-form</h4>

<ng-container *ngIf="{ formState: formState$ | async, dynamicUi: dynamicUi$ | async } as state">
  <form [ngrxFormState]="state.formState" class="form">
    <div>
      <div class="form-group">
        <label>Email</label>
        <input type="text" class="form-control"
          [ngrxFormControlState]="state.formState.controls.email">
      </div>

      <div class="form-group">
        <label>Username</label>
        <input type="text" class="form-control"
          [ngrxFormControlState]="state.formState.controls.username">
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" class="form-control"
          [ngrxFormControlState]="state.formState.controls.password">
      </div>
    </div>

    <div class="form-group">
      <label>How did you hear about us?</label>
      <select class="form-control"
          [ngrxFormControlState]="state.formState.controls.howDidYouHear">
        <option value=""></option>
        <option *ngFor="let choice of choices" value="{{ choice }}">{{ choice }}</option>
      </select>
    </div>

    <div class="radio" *ngFor="let gender of genders">
      <label>
        <input type="radio" [value]="gender"
          [ngrxFormControlState]="state.formState.controls.gender">
        {{ gender }}
      </label>
    </div>

    <div>Dynamic:</div>
    <div *ngFor="let ui of state.dynamicUi; let idx = index">
      <label *ngIf="ui.dynamicType === 'checkbox'">
        <input type="checkbox"
          [ngrxFormControlState]="state.formState.controls.dynamic.controls[idx]">
        {{ ui.label }}
      </label>
      <label *ngIf="ui.dynamicType === 'text'">
        {{ ui.label }}
        <input type="text"
          [ngrxFormControlState]="state.formState.controls.dynamic.controls[idx]">
      </label>
    </div>
  </form>
</ng-container>

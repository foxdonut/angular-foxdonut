<h4>custom validators</h4>

<form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="form">
  <div class="form-group" [ngClass]="{ 'was-validated': isFieldState('username', 'valid') }">
    <label>Username <span class="text-danger">*</span></label>
    <input type="text" class="form-control" formControlName="username"
      [ngClass]="{ 'is-invalid': isFieldState('username', 'invalid') }">
    <div [hidden]="!hasError('username', 'required')"
      class="text-danger">Username is required.</div>
    <div [hidden]="!hasError('username', 'usernameTaken')"
      class="text-danger">That username is taken.</div>
  </div>

  <div class="form-group" [ngClass]="{ 'was-validated': isFieldState('email', 'valid') }">
    <label>Email</label>
    <input type="text" class="form-control" formControlName="email"
      [ngClass]="{ 'is-invalid': isFieldState('email', 'invalid') }">
    <div [hidden]="!isFieldState('email', 'pending')"
      class="text-danger">Checking...</div>
    <div [hidden]="!hasError('email', 'emailTaken')"
      class="text-danger">That email is taken.</div>
  </div>

  <div class="form-group" style="margin-top: 8px">
    <button type="submit" class="btn btn-primary btn-sm"
      [disabled]="myForm.pending || myForm.invalid">Submit Form</button>
    <button type="button" class="btn btn-danger btn-sm" style="margin-left: 8px"
      (click)="onReset()">Clear Form</button>
  </div>

  <div>Submitted form:</div>
  <pre>{{ submittedForm }}</pre>
</form>

